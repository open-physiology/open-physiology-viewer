<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bended Rainbow Bands - Left/Right Orientation</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body {
      background: #f0f0f0;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      padding-top: 20px;
      font-family: sans-serif;
    }
    svg {
      border: 1px solid #ccc;
      background: white;
      margin-top: 10px;
    }
    label {
      font-weight: bold;
    }
    select {
      margin-left: 10px;
    }
  </style>
</head>
<body>
  <div>
    <label for="orientation">Orientation:</label>
    <select id="orientation">
      <option value="right" selected>Right</option>
      <option value="left">Left</option>
    </select>
  </div>

  <svg width="400" height="400"></svg>

  <script>
    const bands = [
      { color: "#ff0000" },  // red
      { color: "#ffa500" },  // orange
      { color: "#ffff00" },  // yellow
      { color: "#008000" },  // green
      { color: "#0000ff" },  // blue
      { color: "#4b0082" },  // indigo
      { color: "#ee82ee" }   // violet
    ];

    const svg = d3.select("svg");

    function drawBendedBands(svg, bands, options = {}) {
      const {
        x = 200,
        y = 200,
        radius = 60,
        width = 15,
        orientation = 'right'
      } = options;

      const arc = d3.arc()
        .innerRadius((d, i) => radius + i * width)
        .outerRadius((d, i) => radius + (i + 1) * width)
        .startAngle(orientation === 'right' ? -Math.PI / 2 : -Math.PI * 1.5)
        .endAngle(orientation === 'right' ? Math.PI / 2 : Math.PI * 1.5);

      svg.selectAll("path.band")
        .data(bands)
        .join("path")
        .attr("class", "band")
        .attr("d", arc)
        .attr("fill", d => d.color)
        .attr("transform", `translate(${x},${y})`);
    }

    // Initial render
    drawBendedBands(svg, bands, {
      x: 200,
      y: 200,
      radius: 30,
      width: 12,
      orientation: 'right'
    });

    // Dropdown change handler
    document.getElementById("orientation").addEventListener("change", function () {
      const orientation = this.value;
      drawBendedBands(svg, bands, {
        x: 200,
        y: 200,
        radius: 30,
        width: 12,
        orientation
      });
    });
  </script>
</body>
</html>
